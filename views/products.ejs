<!-- views/products.ejs -->
<!--put a title that says all products / products by category depending on the context-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clothing Store</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css"
        rel="stylesheet">
    <link rel="stylesheet" href="/css/mainStyle.css">
    <link rel="stylesheet" href="/css/productsStyle.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="/js/cartFunctions.js" defer></script>
</head>

<body>
    <%- include('./navbar.ejs') %>
    
    <section class="background"></section>
    <div class="product-container"> <!-- Container for products -->
        <ul class="product-list">
            <% products.forEach(product=> { %>
                <li class="product-item">


                    <a href="/products/search/product/<%= product.product_id %>" class="product-link">

                        <p><img src="/img/<%= product.name %>.png" alt="<%= product.name %>" class="card-product-img" />
                        </p>
                        <h3>
                            <%= product.name %>
                        </h3>
                    </a>

                    <p>Price: $<%= product.price %>
                    </p>
                    <p>Color: <%= product.color %>
                    </p>
                    <p>Size: <%= product.size %>
                    </p>
                    <p>Gender: <%= product.gender %>
                    </p>
                    <p>Category: <%= product.category %>
                    </p>

                    <% if (product.stock> 0) { %>
                        <button class="stock-btn" onclick="addToCart('<%= product.id %>')">
                            <i class="fa fa-plus"></i>
                        </button>
                        <% } else { %>
                            <p class="out-of-stock">Out of stock</p>
                            <% } %>
                </li>
                <% }); %>
        </ul>
    </div>
    </section>

    <div class="text-center mt-5">
        <button class="btn btn-back" onclick="window.location.href='/index'">Back to Homepage</button>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JavaScript -->
    <script src="/js/scroll-animation.js"></script>
    <script src="/js/search.js"></script>
</body>

</html>